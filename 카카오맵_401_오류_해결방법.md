# 카카오맵 401 Unauthorized 오류 해결 방법

## 문제 상황
카카오맵이 표시되지 않고 다음과 같은 오류가 발생합니다:
```
MapAuthException(401): Unauthorized
```

## 원인
카카오맵 SDK는 카카오 개발자 콘솔에서 앱 설정(패키지명, 키 해시)이 완료되어야 정상 작동합니다.

## 해결 방법

### 1. 카카오 개발자 콘솔 접속
1. [카카오 개발자 콘솔](https://developers.kakao.com/)에 접속
2. 로그인 후 **내 애플리케이션** 메뉴 선택

### 2. 앱 선택 및 설정
1. WiseYoung 앱 선택 (또는 새로 생성)
2. **앱 설정** > **앱 키**에서 **네이티브 앱 키** 확인
   - 현재 사용 중인 키: `a6d711e7786442c3aaf2b5596af9ae04`
   - 이 키가 **네이티브 앱 키**와 일치하는지 확인

### 3. 플랫폼 설정 (중요!)
1. **앱 설정** > **플랫폼** 메뉴로 이동
2. **Android 플랫폼 추가** 클릭
3. 다음 정보 입력:

   **패키지명:**
   ```
   com.wiseyoung.app
   ```
   
   **키 해시 (Base64 형식):**
   - 아래 키 해시를 추가해야 합니다:
   
   ```
   TVNiNCEAX/ZxX3Y47OwP8p66zvY=
   ```
   
   - 여러 개의 키 해시를 등록할 수 있습니다 (각 줄에 하나씩)
   - 현재 등록된 키 해시가 위와 다른 경우, 위 키 해시를 추가로 등록하세요

4. **저장** 버튼 클릭

### 4. 카카오맵 API 활성화
1. **제품 설정** > **카카오맵** 메뉴로 이동
2. **카카오맵 API** 활성화
3. 도메인 등록 (필요한 경우)

### 5. 앱 재빌드 및 테스트
1. Android Studio에서 **Clean Project** 실행
2. **Rebuild Project** 실행
3. 앱 재설치 및 실행
4. 임대주택 화면에서 카카오맵 확인

## 참고 사항

### 키 해시 확인 방법
디버그 키 해시는 아래 명령어로 확인할 수 있습니다:

```powershell
$output = & "C:\Program Files\Android\Android Studio\jbr\bin\keytool.exe" -list -v -keystore "$env:USERPROFILE\.android\debug.keystore" -alias androiddebugkey -storepass android -keypass android 2>&1
$sha1Line = $output | Select-String -Pattern "SHA1:"
if ($sha1Line) {
    $sha1Value = ($sha1Line -split "SHA1:")[1].Trim()
    Write-Host "SHA-1: $sha1Value"
}
```

### 릴리즈 빌드의 경우
릴리즈 키 해시도 별도로 등록해야 합니다:
1. 릴리즈 키스토어의 키 해시 확인
2. 카카오 개발자 콘솔에 추가 등록

### API 키 확인
- 현재 사용 중인 네이티브 앱 키: `a6d711e7786442c3aaf2b5596af9ae04`
- 이 키는 AndroidManifest.xml과 YouthApplication.kt에 설정되어 있습니다
- 카카오 개발자 콘솔에서 이 키가 올바른지 확인하세요

## 문제가 지속되는 경우
1. 카카오 개발자 콘솔에서 앱이 활성화되어 있는지 확인
2. 카카오맵 API가 활성화되어 있는지 확인
3. 패키지명이 정확히 `com.wiseyoung.app`인지 확인
4. 키 해시가 정확히 입력되었는지 확인 (콜론 포함/제거 확인)
5. 변경 사항 적용 후 몇 분 기다린 후 다시 시도
6. 앱을 완전히 삭제하고 재설치

## 추가 리소스
- [카카오맵 SDK 공식 문서](https://apis.map.kakao.com/android/guide/)
- [카카오 개발자 콘솔](https://developers.kakao.com/)

